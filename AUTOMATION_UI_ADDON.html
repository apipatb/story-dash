<!--
  AUTOMATION UI ADD-ON
  ‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÉ‡∏ô index.html section ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
-->

<!-- ========================================
     1. ‡πÄ‡∏û‡∏¥‡πà‡∏° Tab ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô Navigation
     ======================================== -->

<!-- ‡∏´‡∏≤ section <div class="tabs"> ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° tab ‡∏ô‡∏µ‡πâ: -->
<button class="tab-btn" onclick="switchTab('automation')" data-tab="automation">
    ü§ñ Automation
</button>


<!-- ========================================
     2. ‡πÄ‡∏û‡∏¥‡πà‡∏° Tab Content ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Automation
     ======================================== -->

<!-- ‡∏ß‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏á <div id="settingsTab" class="tab-content"> -->

<div id="automationTab" class="tab-content" style="display: none;">
    <div class="automation-container">

        <!-- Header with Status -->
        <div class="automation-header">
            <div class="automation-title">
                <h1>ü§ñ Auto Money-Making System</h1>
                <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á content ‡πÅ‡∏•‡∏∞‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ 100%</p>
            </div>
            <div class="automation-status" id="automationStatus">
                <div class="status-indicator"></div>
                <span>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞...</span>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="automation-stats">
            <div class="stat-card">
                <div class="stat-icon">üìù</div>
                <div class="stat-info">
                    <h3 id="statsGenerated">0</h3>
                    <p>Contents ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üé¨</div>
                <div class="stat-info">
                    <h3 id="statsVideos">0</h3>
                    <p>Videos ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üì§</div>
                <div class="stat-info">
                    <h3 id="statsPosted">0</h3>
                    <p>Posts ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                </div>
            </div>
            <div class="stat-card highlight">
                <div class="stat-icon">üí∞</div>
                <div class="stat-info">
                    <h3 id="statsRevenue">‡∏ø0</h3>
                    <p>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå</p>
                </div>
            </div>
        </div>

        <!-- Setup Progress -->
        <div class="setup-section" id="setupSection">
            <h2>‚öôÔ∏è Setup Progress</h2>

            <div class="setup-steps">
                <!-- Step 1: API Keys -->
                <div class="setup-step" id="setupStep1">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div class="step-info">
                            <h3>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API Keys</h3>
                            <p>‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                        </div>
                        <div class="step-status">‚è≥</div>
                    </div>
                    <div class="step-content">
                        <div class="api-key-list">
                            <!-- OpenAI -->
                            <div class="api-key-item">
                                <div class="api-info">
                                    <strong>OpenAI GPT-4</strong>
                                    <span class="badge required">‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô</span>
                                    <p>‡∏™‡∏£‡πâ‡∏≤‡∏á content ideas + scripts</p>
                                </div>
                                <div class="api-actions">
                                    <input type="password" id="openaiKey" placeholder="sk-..." class="api-input">
                                    <button class="btn btn-small" onclick="saveApiKey('openai')">Save</button>
                                    <a href="https://platform.openai.com/api-keys" target="_blank" class="btn btn-small btn-secondary">Get Key</a>
                                </div>
                            </div>

                            <!-- ElevenLabs -->
                            <div class="api-key-item">
                                <div class="api-info">
                                    <strong>ElevenLabs</strong>
                                    <span class="badge optional">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</span>
                                    <p>‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á ($25/month)</p>
                                </div>
                                <div class="api-actions">
                                    <input type="password" id="elevenlabsKey" placeholder="..." class="api-input">
                                    <button class="btn btn-small" onclick="saveApiKey('elevenlabs')">Save</button>
                                    <a href="https://elevenlabs.io" target="_blank" class="btn btn-small btn-secondary">Get Key</a>
                                </div>
                            </div>

                            <!-- Pictory -->
                            <div class="api-key-item">
                                <div class="api-info">
                                    <strong>Pictory AI</strong>
                                    <span class="badge optional">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</span>
                                    <p>‡∏™‡∏£‡πâ‡∏≤‡∏á videos ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ($39/month)</p>
                                </div>
                                <div class="api-actions">
                                    <input type="password" id="pictoryKey" placeholder="..." class="api-input">
                                    <button class="btn btn-small" onclick="saveApiKey('pictory')">Save</button>
                                    <a href="https://pictory.ai" target="_blank" class="btn btn-small btn-secondary">Get Key</a>
                                </div>
                            </div>

                            <!-- YouTube -->
                            <div class="api-key-item">
                                <div class="api-info">
                                    <strong>YouTube API</strong>
                                    <span class="badge optional">‡∏ü‡∏£‡∏µ</span>
                                    <p>Auto-upload ‡πÑ‡∏õ YouTube</p>
                                </div>
                                <div class="api-actions">
                                    <button class="btn btn-small btn-primary" onclick="authorizeYouTube()">Authorize</button>
                                    <a href="https://console.cloud.google.com" target="_blank" class="btn btn-small btn-secondary">Setup</a>
                                </div>
                            </div>

                            <!-- Facebook -->
                            <div class="api-key-item">
                                <div class="api-info">
                                    <strong>Facebook API</strong>
                                    <span class="badge optional">‡∏ü‡∏£‡∏µ</span>
                                    <p>Auto-post ‡πÑ‡∏õ Facebook</p>
                                </div>
                                <div class="api-actions">
                                    <button class="btn btn-small btn-primary" onclick="authorizeFacebook()">Authorize</button>
                                    <a href="https://developers.facebook.com" target="_blank" class="btn btn-small btn-secondary">Setup</a>
                                </div>
                            </div>
                        </div>

                        <div class="setup-guide-link">
                            üìñ <a href="AUTOMATION_SETUP.md" target="_blank">‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Configuration -->
                <div class="setup-step" id="setupStep2">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div class="step-info">
                            <h3>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</h3>
                            <p>‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô videos ‡πÅ‡∏•‡∏∞ platforms</p>
                        </div>
                        <div class="step-status">‚è≥</div>
                    </div>
                    <div class="step-content">
                        <div class="config-section">
                            <div class="config-item">
                                <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Videos ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô:</label>
                                <select id="videosPerDay">
                                    <option value="1">1 video/‡∏ß‡∏±‡∏ô</option>
                                    <option value="3">3 videos/‡∏ß‡∏±‡∏ô</option>
                                    <option value="5" selected>5 videos/‡∏ß‡∏±‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</option>
                                    <option value="10">10 videos/‡∏ß‡∏±‡∏ô</option>
                                </select>
                                <small>5 videos = 150/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô = ~$100 cost</small>
                            </div>

                            <div class="config-item">
                                <label>Platforms:</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" id="platformYoutube" checked> YouTube</label>
                                    <label><input type="checkbox" id="platformFacebook" checked> Facebook</label>
                                    <label><input type="checkbox" id="platformTiktok" checked> TikTok (Manual)</label>
                                </div>
                            </div>

                            <div class="config-item">
                                <label>Auto Features:</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" id="autoGenerate" checked> Auto Generate Content</label>
                                    <label><input type="checkbox" id="autoCreateVideo" checked> Auto Create Videos</label>
                                    <label><input type="checkbox" id="autoPost" checked> Auto Post (YouTube + Facebook)</label>
                                </div>
                            </div>

                            <div class="config-item">
                                <label>‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏û‡∏™‡∏ï‡πå:</label>
                                <div class="time-slots">
                                    <label><input type="checkbox" checked> 18:00 (Prime time)</label>
                                    <label><input type="checkbox"> 20:00 (Peak time)</label>
                                    <label><input type="checkbox"> 21:00 (Evening)</label>
                                </div>
                            </div>

                            <button class="btn btn-primary" onclick="saveAutomationConfig()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Start Automation -->
                <div class="setup-step" id="setupStep3">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <div class="step-info">
                            <h3>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h3>
                            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤</p>
                        </div>
                        <div class="step-status">‚è≥</div>
                    </div>
                    <div class="step-content">
                        <div class="start-automation">
                            <div class="cost-estimate">
                                <h4>üí∞ ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå</h4>
                                <table class="estimate-table">
                                    <tr>
                                        <td>Videos/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:</td>
                                        <td><strong id="estimateVideos">150</strong></td>
                                    </tr>
                                    <tr>
                                        <td>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢:</td>
                                        <td><strong id="estimateCost">$94/month (~3,500‡∏ø)</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Views ‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå:</td>
                                        <td><strong id="estimateViews">7.5M/month</strong></td>
                                    </tr>
                                    <tr class="highlight">
                                        <td>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå:</td>
                                        <td><strong id="estimateRevenue">100,000-150,000‡∏ø/month</strong></td>
                                    </tr>
                                    <tr class="highlight">
                                        <td>ROI:</td>
                                        <td><strong id="estimateROI">30-60 ‡πÄ‡∏ó‡πà‡∏≤</strong></td>
                                    </tr>
                                </table>
                            </div>

                            <div class="automation-controls">
                                <button class="btn btn-large btn-success" id="startAutomationBtn" onclick="startAutomation()">
                                    üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
                                </button>
                                <button class="btn btn-large btn-warning" id="stopAutomationBtn" onclick="stopAutomation()" style="display: none;">
                                    ‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
                                </button>
                                <button class="btn btn-large btn-secondary" onclick="testAutomation()">
                                    üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡∏™‡∏£‡πâ‡∏≤‡∏á 1 video)
                                </button>
                            </div>

                            <div class="automation-schedule">
                                <h4>üìÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h4>
                                <ul>
                                    <li><strong>06:00</strong> - ‡∏™‡∏£‡πâ‡∏≤‡∏á content ideas + scripts</li>
                                    <li><strong>08:00-12:00</strong> - ‡∏™‡∏£‡πâ‡∏≤‡∏á videos</li>
                                    <li><strong>18:00</strong> - ‡πÇ‡∏û‡∏™‡∏ï‡πå‡πÑ‡∏õ YouTube + Facebook</li>
                                    <li><strong>‡∏Ñ‡∏∏‡∏ì:</strong> Download videos ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î TikTok (15 ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏ß‡∏±‡∏ô)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Log -->
        <div class="activity-section">
            <h2>üìä Activity Log</h2>
            <div class="activity-filters">
                <button class="filter-btn active" onclick="filterActivity('all')">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                <button class="filter-btn" onclick="filterActivity('generated')">Generated</button>
                <button class="filter-btn" onclick="filterActivity('created')">Created</button>
                <button class="filter-btn" onclick="filterActivity('posted')">Posted</button>
            </div>
            <div class="activity-log" id="activityLog">
                <div class="activity-item">
                    <div class="activity-icon">‚úÖ</div>
                    <div class="activity-content">
                        <strong>‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</strong>
                        <p>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ API keys ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥"</p>
                        <span class="activity-time">‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</span>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>


<!-- ========================================
     3. JavaScript Functions
     ======================================== -->

<script>
// Automation Tab Functions

// ‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á Automation tab
function switchToAutomationTab() {
    switchTab('automation');
}

// ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å API Key
async function saveApiKey(service) {
    const keyInputs = {
        'openai': document.getElementById('openaiKey'),
        'elevenlabs': document.getElementById('elevenlabsKey'),
        'pictory': document.getElementById('pictoryKey')
    };

    const input = keyInputs[service];
    const key = input.value.trim();

    if (!key) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å API key', 'warning');
        return;
    }

    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
    automationConfig.setApiKey(service, key);

    showToast(`‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å ${service} API key ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à`, 'success');

    // Clear input for security
    input.value = '';

    // Refresh status
    updateAutomationStatus();
}

// Authorize YouTube
function authorizeYouTube() {
    if (typeof autoPoster !== 'undefined') {
        autoPoster.authorizeYouTube();
    } else {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤', 'warning');
    }
}

// Authorize Facebook
function authorizeFacebook() {
    if (typeof autoPoster !== 'undefined') {
        autoPoster.authorizeFacebook();
    } else {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤', 'warning');
    }
}

// ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Automation
function saveAutomationConfig() {
    const config = {
        videosPerDay: parseInt(document.getElementById('videosPerDay').value),
        platforms: [],
        autoGenerate: document.getElementById('autoGenerate').checked,
        autoCreateVideo: document.getElementById('autoCreateVideo').checked,
        autoPost: document.getElementById('autoPost').checked
    };

    // Platforms
    if (document.getElementById('platformYoutube').checked) config.platforms.push('youtube');
    if (document.getElementById('platformFacebook').checked) config.platforms.push('facebook');
    if (document.getElementById('platformTiktok').checked) config.platforms.push('tiktok');

    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
    automationConfig.updateSettings({ automation: config });

    showToast('‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');

    // Update cost estimate
    updateCostEstimate(config.videosPerDay);

    // Refresh status
    updateAutomationStatus();
}

// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö Auto
async function startAutomation() {
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API keys
    const status = automationConfig.validateKeys();

    if (!status.ready) {
        showToast('‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ OpenAI API Key ‡∏Å‡πà‡∏≠‡∏ô', 'error');
        return;
    }

    if (!confirm('üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥?\n\n‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á content + videos ‡πÅ‡∏•‡∏∞‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô')) {
        return;
    }

    // Start
    automationScheduler.start();

    // UI Update
    document.getElementById('startAutomationBtn').style.display = 'none';
    document.getElementById('stopAutomationBtn').style.display = 'inline-block';

    showToast('üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß!', 'success');

    // Add activity
    addActivity('started', '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥', '‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô 06:00, 08:00, 18:00');

    updateAutomationStatus();
}

// ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö
function stopAutomation() {
    if (!confirm('‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥?')) {
        return;
    }

    automationScheduler.stop();

    // UI Update
    document.getElementById('startAutomationBtn').style.display = 'inline-block';
    document.getElementById('stopAutomationBtn').style.display = 'none';

    showToast('‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß', 'info');

    addActivity('stopped', '‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥', '‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß');

    updateAutomationStatus();
}

// ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö
async function testAutomation() {
    if (!confirm('üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö?\n\n‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á 1 content + video ‡∏ó‡∏î‡∏•‡∏≠‡∏á (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 2-5 ‡∏ô‡∏≤‡∏ó‡∏µ)')) {
        return;
    }

    showToast('üß™ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö...', 'info');

    addActivity('testing', '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö', '‡∏™‡∏£‡πâ‡∏≤‡∏á 1 content + video');

    try {
        await automationScheduler.testRun();

        showToast('‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!', 'success');
        addActivity('tested', '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', '‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥');

    } catch (error) {
        showToast('‚ùå ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ' + error.message, 'error');
        addActivity('error', '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß', error.message);
    }
}

// ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
function updateAutomationStatus() {
    const status = automationScheduler.getStatus();
    const statusEl = document.getElementById('automationStatus');

    if (status.isRunning) {
        statusEl.innerHTML = `
            <div class="status-indicator running"></div>
            <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</span>
        `;
    } else {
        statusEl.innerHTML = `
            <div class="status-indicator stopped"></div>
            <span>‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</span>
        `;
    }

    // Update stats
    document.getElementById('statsGenerated').textContent = status.stats.totalGenerated;
    document.getElementById('statsVideos').textContent = status.stats.totalCreated;
    document.getElementById('statsPosted').textContent = status.stats.totalPosted;

    // Update setup steps
    updateSetupSteps();
}

// ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó setup steps
function updateSetupSteps() {
    const setupStatus = automationConfig.getSetupStatus();

    // Step 1: API Keys
    const step1 = document.getElementById('setupStep1');
    if (setupStatus.step1_keys.required.openai) {
        step1.querySelector('.step-status').innerHTML = '‚úÖ';
        step1.classList.add('completed');
    }

    // Step 2: Settings
    const step2 = document.getElementById('setupStep2');
    if (setupStatus.step2_settings.automation) {
        step2.querySelector('.step-status').innerHTML = '‚úÖ';
        step2.classList.add('completed');
    }

    // Step 3: Ready
    const step3 = document.getElementById('setupStep3');
    if (setupStatus.step3_ready) {
        step3.querySelector('.step-status').innerHTML = '‚úÖ';
        step3.classList.add('completed');
    }
}

// ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢
function updateCostEstimate(videosPerDay) {
    const estimate = automationConfig.estimateCosts(videosPerDay);

    document.getElementById('estimateVideos').textContent = estimate.videosPerMonth;
    document.getElementById('estimateCost').textContent = `$${estimate.total.monthly.toFixed(0)}/month (~${(estimate.total.monthly * 35).toFixed(0)}‡∏ø)`;
    document.getElementById('estimateViews').textContent = (estimate.videosPerMonth * 50000 / 1000000).toFixed(1) + 'M/month';
    document.getElementById('estimateRevenue').textContent = `${(estimate.revenue.conservative / 1000).toFixed(0)}k-${(estimate.revenue.optimistic / 1000).toFixed(0)}k‡∏ø/month`;
    document.getElementById('estimateROI').textContent = `${estimate.roi.conservative}-${estimate.roi.optimistic} ‡πÄ‡∏ó‡πà‡∏≤`;
}

// ‡πÄ‡∏û‡∏¥‡πà‡∏° activity log
function addActivity(type, title, description) {
    const log = document.getElementById('activityLog');

    const icons = {
        'generated': 'üìù',
        'created': 'üé¨',
        'posted': 'üì§',
        'started': 'üöÄ',
        'stopped': '‚è∏Ô∏è',
        'tested': 'üß™',
        'testing': '‚è≥',
        'error': '‚ùå'
    };

    const item = document.createElement('div');
    item.className = 'activity-item';
    item.innerHTML = `
        <div class="activity-icon">${icons[type] || 'üìå'}</div>
        <div class="activity-content">
            <strong>${title}</strong>
            <p>${description}</p>
            <span class="activity-time">${new Date().toLocaleString('th-TH')}</span>
        </div>
    `;

    log.insertBefore(item, log.firstChild);

    // Keep max 50 items
    while (log.children.length > 50) {
        log.removeChild(log.lastChild);
    }
}

// Filter activity
function filterActivity(type) {
    // Update active button
    document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');

    // Filter items (implement if needed)
}

// Initialize when tab is opened
document.addEventListener('DOMContentLoaded', () => {
    // Load initial status
    if (typeof automationScheduler !== 'undefined') {
        updateAutomationStatus();
        updateCostEstimate(5);
    }
});
</script>


<!-- ========================================
     4. Add CSS (‡∏ß‡∏≤‡∏á‡πÉ‡∏ô styles.css)
     ======================================== -->

<!--
CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Automation UI (‡∏ß‡∏≤‡∏á‡πÉ‡∏ô styles.css):

.automation-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.automation-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding: 20px;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    border-radius: 12px;
    color: white;
}

.automation-title h1 {
    margin: 0;
    font-size: 2rem;
}

.automation-title p {
    margin: 5px 0 0 0;
    opacity: 0.9;
}

.automation-status {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255,255,255,0.2);
    padding: 10px 20px;
    border-radius: 20px;
}

.status-indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #ccc;
}

.status-indicator.running {
    background: #10b981;
    animation: pulse 2s infinite;
}

.status-indicator.stopped {
    background: #ef4444;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.automation-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
}

.stat-card.highlight {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
}

.setup-section {
    margin: 30px 0;
}

.setup-steps {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.setup-step {
    background: var(--card-bg);
    border: 2px solid var(--border-color);
    border-radius: 12px;
    overflow: hidden;
}

.setup-step.completed {
    border-color: var(--success-color);
}

.step-header {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    background: var(--bg-secondary);
    cursor: pointer;
}

.step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--primary-color);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.2rem;
}

.step-info {
    flex: 1;
}

.step-info h3 {
    margin: 0;
    font-size: 1.1rem;
}

.step-info p {
    margin: 5px 0 0 0;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.step-status {
    font-size: 1.5rem;
}

.step-content {
    padding: 20px;
}

.api-key-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.api-key-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    background: var(--bg-secondary);
    border-radius: 8px;
}

.api-info {
    flex: 1;
}

.api-info strong {
    display: block;
    margin-bottom: 5px;
}

.api-info p {
    margin: 5px 0 0 0;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.api-actions {
    display: flex;
    gap: 10px;
    align-items: center;
}

.api-input {
    width: 300px;
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    font-family: monospace;
}

.badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: bold;
    margin-left: 8px;
}

.badge.required {
    background: #ef4444;
    color: white;
}

.badge.optional {
    background: #3b82f6;
    color: white;
}

.config-section {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.config-item label {
    display: block;
    font-weight: bold;
    margin-bottom: 8px;
}

.config-item select {
    width: 100%;
    max-width: 400px;
    padding: 10px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
}

.checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.checkbox-group label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: normal;
}

.cost-estimate {
    background: var(--bg-secondary);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
}

.estimate-table {
    width: 100%;
    margin-top: 10px;
}

.estimate-table td {
    padding: 8px;
}

.estimate-table tr.highlight {
    background: rgba(16, 185, 129, 0.1);
    font-weight: bold;
}

.automation-controls {
    display: flex;
    gap: 10px;
    margin: 20px 0;
}

.automation-schedule {
    background: var(--bg-secondary);
    padding: 20px;
    border-radius: 8px;
}

.automation-schedule ul {
    list-style: none;
    padding: 0;
}

.automation-schedule li {
    padding: 8px 0;
    border-bottom: 1px solid var(--border-color);
}

.activity-section {
    margin: 30px 0;
}

.activity-filters {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.filter-btn {
    padding: 8px 16px;
    border: 1px solid var(--border-color);
    background: transparent;
    border-radius: 6px;
    cursor: pointer;
}

.filter-btn.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.activity-log {
    background: var(--card-bg);
    border-radius: 8px;
    padding: 15px;
    max-height: 500px;
    overflow-y: auto;
}

.activity-item {
    display: flex;
    gap: 15px;
    padding: 15px;
    border-bottom: 1px solid var(--border-color);
}

.activity-item:last-child {
    border-bottom: none;
}

.activity-icon {
    font-size: 1.5rem;
}

.activity-content {
    flex: 1;
}

.activity-content strong {
    display: block;
    margin-bottom: 5px;
}

.activity-content p {
    margin: 0;
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.activity-time {
    display: block;
    margin-top: 5px;
    font-size: 0.8rem;
    color: var(--text-secondary);
}
-->
